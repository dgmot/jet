define(["ojs/ojcore","knockout","ojs/ojmodule-element-utils","ojs/ojmodule-element","ojs/ojrouter","ojs/ojknockout","ojs/ojarraytabledatasource","ojs/ojoffcanvas"],function(e,o,a){return new function(){var r=this,t=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.SM_ONLY);r.smScreen=e.ResponsiveKnockoutUtils.createMediaQueryObservable(t);var n=e.ResponsiveUtils.getFrameworkQuery(e.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_UP);r.mdScreen=e.ResponsiveKnockoutUtils.createMediaQueryObservable(n),r.router=e.Router.rootInstance,r.router.configure({dashboard:{label:"Dashboard",isDefault:!0},fields:{label:"Fields"},scientists:{label:"Scientists"}}),e.Router.defaults.urlAdapter=new e.Router.urlParamAdapter,r.moduleConfig=o.observable({view:[],viewModel:null}),r.loadModule=function(){o.computed(function(){var e=r.router.moduleConfig.name(),o="views/"+e+".html",t="viewModels/"+e;Promise.all([a.createView({viewPath:o}),a.createViewModel({viewModelPath:t})]).then(function(e){r.moduleConfig({view:e[0],viewModel:e[1]})})})},r.navDataSource=new e.ArrayTableDataSource([{name:"Dashboard",id:"dashboard",iconClass:"oj-navigationlist-item-icon demo-icon-font-24 demo-chart-icon-24"}],{idAttribute:"id"}),r.mdScreen.subscribe(function(){e.OffcanvasUtils.close(r.drawerParams)}),r.drawerParams={displayMode:"push",selector:"#navDrawer",content:"#pageContent"},r.toggleDrawer=function(){return e.OffcanvasUtils.toggle(r.drawerParams)},$("#navDrawer").on("ojclose",function(){$("#drawerToggleButton").focus()}),r.appName=o.observable("Scientific App")}});